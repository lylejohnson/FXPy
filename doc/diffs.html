<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter 5. How is FXPy Different From FOX?</title><meta name="generator" content="DocBook XSL Stylesheets V1.48"><link rel="home" href="book.html" title="Developing Graphical User Interfaces with FXPy"><link rel="up" href="book.html" title="Developing Graphical User Interfaces with FXPy"><link rel="previous" href="install.html" title="Chapter 4. Installation"><link rel="next" href="problems.html" title="Chapter 6. Known Problems"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 5. How is FXPy Different From FOX?</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="install.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="problems.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><h2 class="title"><a name="diffs"></a>Chapter 5. How is FXPy Different From FOX?</h2></div></div><p>The FXPy API follows the standard FOX API very closely and for the most part you can use FOX documentation as a reference. But of course, Python isn't C++ and so here are some differences of which you should be aware.</p><div class="simplesect"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e180"></a>Strings</h2></div></div><p>Any function which usually takes an FXString as an input instead takes a Python string. Similarly, functions which usually return an FXString will instead return a Python string. For functions which would accept a <tt>NULL</tt> or empty string argument, just pass an empty string ("") or <tt>None</tt>.</p></div><div class="simplesect"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e197"></a>Functions which return values by reference</h2></div></div><p>Many FOX class member functions return values by reference. For example, the <tt>FXWindow::getCursorPosition()</tt> function returns the (x, y) position as well as the current mouse buttons state:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="programlisting">FXint x, y;
FXuint buttons;

if (window-&gt;getCursorPosition(x, y, buttons))
  fprintf(stderr, "Current position is (%d, %d)\n", x, y);
    </pre></td></tr></table><p>Obviously these functions must work a little differently in Python. The following table documents how such functions are implemented in FXPy:</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th align="center">Class Method</th><th align="center">Return Value</th></tr></thead><tbody><tr><td><tt>FXWindow.getCursorPosition()</tt></td><td>Returns a tuple of integers (x, y, buttons)</td></tr><tr><td><tt>FXWindow.translateCoordinatesFrom(window, x, y)</tt></td><td>Returns the translated coordinates as a tuple (x, y)</td></tr><tr><td><tt>FXWindow.translateCoordinatesTo(window, x, y)</tt></td><td>Returns the translated coordinates as a tuple (x, y)</td></tr><tr><td><tt>FXGLViewer.getViewport()</tt></td><td>Returns an <tt>FXViewport</tt> instance.</td></tr><tr><td><tt>FXGLViewer.eyeToScreen(eye)</tt></td><td>Returns the screen point coordinate as a tuple (sx, sy)</td></tr><tr><td><tt>FXGLViewer.getBoreVector(sx, sy)</tt></td><td>Returns the endpoint and direction vector as a tuple of vectors (point, dir)</td></tr><tr><td><tt>FXGLViewer.getLight()</tt></td><td>Returns a <tt>FXLight</tt> instance</td></tr><tr><td><tt>FXGLObject.bounds(range)</tt></td><td>Takes an <tt>FXRange</tt> instance as its input and returns a (possibly different) <tt>FXRange</tt> instance.</td></tr><tr><td><tt>FXFontSelector.getFontSelection()</tt></td><td>Returns the <tt>FXFontDesc</tt> instance</td></tr><tr><td><tt>FXFontDialog.getFontSelection()</tt></td><td>Returns the <tt>FXFontDesc</tt> instance</td></tr><tr><td><tt>FXPrinterDialog.getPrinter()</tt></td><td>Returns the <tt>FXPrinter</tt> instance</td></tr><tr><td><tt>FXScrollArea.getPosition()</tt></td><td>Returns the position as a tuple (x, y)</td></tr><tr><td><tt>FXSpinner.getMinMax()</tt></td><td>Returns the minimum and maximum values as a tuple</td></tr><tr><td><tt>FXSlider.getRange()</tt></td><td>Returns the low and high values as a tuple</td></tr><tr><td><tt>FXText.extractText(pos, n)</tt></td><td>Extracts <span class="emphasis"><i>n</i></span> characters from the buffer beginning at position <span class="emphasis"><i>pos</i></span> and returns the result as a string.</td></tr></tbody></table></div></div><div class="simplesect"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="d0e335"></a>Message Passing</h2></div></div><p>In FOX, message maps are defined as static class members. In FXPy, you just associate messages with message handlers in the class constructor using the <tt>FXMAPFUNC()</tt>, <tt>FXMAPTYPE()</tt>, <tt>FXMAPTYPES()</tt> or <tt>FXMAPFUNCS()</tt> methods. See almost any of the example programs for examples of how this is done.</p><p>As in C++ FOX, the last argument passed to your message handler functions contains message-specific data. For instance, all <tt>SEL_PAINT</tt> messages pass an <tt>FXEvent</tt> object through this argument to give you some information about the size of the exposed rectangle. On the other hand, a <tt>SEL_COMMAND</tt> message from an <tt>FXHeader</tt> object passes the index of the selected header item through this argument. Instead of guessing what's in this last argument, your best bet is to instead invoke a member function on the sending object to find out what you need, instead of relying on the data passed through this pointer. For example, if you get a <tt>SEL_COMMAND</tt> message from an <tt>FXColorWell</tt> object, the data passed through that last argument is supposed to be the new RGB color value. Instead of trying to interpret the argument's contents, just turn around and call the color well's <tt>getRGBA()</tt> member function to retrieve its color. Similarly, if you get a <tt>SEL_COMMAND</tt> message from a tree list, call its <tt>getCurrentItem()</tt> method to find out which item was selected.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="book.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="problems.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 4. Installation&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter 6. Known Problems</td></tr></table></div></body></html>